---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.8.0
  creationTimestamp: null
  name: gcpmachinepools.infrastructure.cluster.x-k8s.io
spec:
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: GCPMachinePool
    listKind: GCPMachinePoolList
    plural: gcpmachinepools
    shortNames:
    - gcpmp
    singular: gcpmachinepool
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: GCPMachinePool replicas count
      jsonPath: .status.replicas
      name: Replicas
      type: string
    - description: GCPMachinePool replicas count
      jsonPath: .status.ready
      name: Ready
      type: string
    - description: GCP Instance Group provisioning state
      jsonPath: .status.provisioningState
      name: State
      type: string
    - description: Cluster to which this GCPMachinePool belongs
      jsonPath: .metadata.labels.cluster\.x-k8s\.io/cluster-name
      name: Cluster
      priority: 1
      type: string
    - description: MachinePool object to which this GCPMachinePool belongs
      jsonPath: .metadata.ownerReferences[?(@.kind=="MachinePool")].name
      name: MachinePool
      priority: 1
      type: string
    - description: GCP Instance Group ID
      jsonPath: .spec.providerID
      name: Instance Group ID
      priority: 1
      type: string
    - description: GCP VM Size
      jsonPath: .spec.template.vmSize
      name: VM Size
      priority: 1
      type: string
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: GCPMachinePool is the Schema for the gcpmachinepools API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: GCPMachinePoolSpec defines the desired state of GCPMachinePool
            properties:
              foo:
                description: Foo is an example fiGCPMachine instance is runningeld
                  of GCPMachinePool. Edit gcpmachinepool_types.go to remove/update
                type: string
              machineTemplate:
                description: MachineTemplate GCPMachinePoolMachineTemplate `json:"machineTemplate"`
                properties:
                  additionalDisks:
                    description: AdditionalDisks are optional non-boot attached disks.
                    items:
                      description: AttachedDiskSpec degined GCP machine disk.
                      properties:
                        deviceType:
                          description: 'DeviceType is a device type of the attached
                            disk. Supported types of non-root attached volumes: 1.
                            "pd-standard" - Standard (HDD) persistent disk 2. "pd-ssd"
                            - SSD persistent disk 3. "local-ssd" - Local SSD disk
                            (https://cloud.google.com/compute/docs/disks/local-ssd).
                            Default is "pd-standard".'
                          type: string
                        size:
                          description: Size is the size of the disk in GBs. Defaults
                            to 30GB. For "local-ssd" size is always 375GB.
                          format: int64
                          type: integer
                      type: object
                    type: array
                  additionalLabels:
                    additionalProperties:
                      type: string
                    description: AdditionalLabels is an optional set of tags to add
                      to an instance, in addition to the ones added by default by
                      the GCP provider. If both the GCPCluster and the GCPMachine
                      specify the same tag name with different values, the GCPMachine's
                      value takes precedence.
                    type: object
                  additionalMetadata:
                    description: AdditionalMetadata is an optional set of metadata
                      to add to an instance, in addition to the ones added by default
                      by the GCP provider.
                    items:
                      description: MetadataItem defines a single piece of metadata
                        associated with an instance.
                      properties:
                        key:
                          description: Key is the identifier for the metadata entry.
                          type: string
                        value:
                          description: Value is the value of the metadata entry.
                          type: string
                      required:
                      - key
                      type: object
                    type: array
                    x-kubernetes-list-map-keys:
                    - key
                    x-kubernetes-list-type: map
                  additionalNetworkTags:
                    description: AdditionalNetworkTags is a list of network tags that
                      should be applied to the instance. These tags are set in addition
                      to any network tags defined at the cluster level or in the actuator.
                    items:
                      type: string
                    type: array
                  image:
                    description: Image is the full reference to a valid image to be
                      used for this machine. Takes precedence over ImageFamily.
                    type: string
                  imageFamily:
                    description: ImageFamily is the full reference to a valid image
                      family to be used for this machine.
                    type: string
                  instanceType:
                    description: 'InstanceType is the type of instance to create.
                      Example: n1.standard-2'
                    type: string
                  ipForwarding:
                    default: Enabled
                    description: IPForwarding Allows this instance to send and receive
                      packets with non-matching destination or source IPs. This is
                      required if you plan to use this instance to forward routes.
                      Defaults to enabled.
                    enum:
                    - Enabled
                    - Disabled
                    type: string
                  preemptible:
                    description: Preemptible defines if instance is preemptible
                    type: boolean
                  providerID:
                    description: ProviderID is the unique identifier as specified
                      by the cloud provider.
                    type: string
                  publicIP:
                    description: PublicIP specifies whether the instance should get
                      a public IP. Set this to true if you don't have a NAT instances
                      or Cloud Nat setup.
                    type: boolean
                  rootDeviceSize:
                    description: RootDeviceSize is the size of the root volume in
                      GB. Defaults to 30.
                    format: int64
                    type: integer
                  rootDeviceType:
                    description: 'RootDeviceType is the type of the root volume. Supported
                      types of root volumes: 1. "pd-standard" - Standard (HDD) persistent
                      disk 2. "pd-ssd" - SSD persistent disk Default is "pd-standard".'
                    type: string
                  serviceAccounts:
                    description: 'ServiceAccount specifies the service account email
                      and which scopes to assign to the machine. Defaults to: email:
                      "default", scope: []{compute.CloudPlatformScope}'
                    properties:
                      email:
                        description: 'Email: Email address of the service account.'
                        type: string
                      scopes:
                        description: 'Scopes: The list of scopes to be made available
                          for this service account.'
                        items:
                          type: string
                        type: array
                    type: object
                  subnet:
                    description: Subnet is a reference to the subnetwork to use for
                      this instance. If not specified, the first subnetwork retrieved
                      from the Cluster Region and Network is picked.
                    type: string
                required:
                - instanceType
                type: object
              providerID:
                description: ProviderID is the identification ID of the Managed Instance
                  Group
                type: string
              providerIDList:
                description: ProviderIDList are the identification IDs of machine
                  instances provided by the provider. This field must match the provider
                  IDs as seen on the node objects corresponding to a machine pool's
                  machine instances.
                items:
                  type: string
                type: array
              region:
                description: Region is the region of the Managed Instance Group
                type: string
              zone:
                description: Zone is the zone of the Managed Instance Group
                type: string
            required:
            - machineTemplate
            type: object
          status:
            description: GCPMachinePoolStatus defines the observed state of GCPMachinePool
            properties:
              instanceTemplate:
                description: InstanceTemplate is the name of the instance template
                type: string
              oldInstanceTemplate:
                description: OldInstanceTemplate is the name of the old instance template
                type: string
              ready:
                description: Ready is true when the provider resource is ready.
                type: boolean
              replicas:
                description: Replicas is the most recently observed number of replicas
                format: int32
                type: integer
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
